{% extends 'base.html' %}
{% block content %}
<div class="main">
    {% if user.is_authenticated %}
    {{user.nickname}}님, 환영합니다!<br>
    {% endif %}

{% load static %}

<img src="{% static 'hospital.jpg' %}" alt="FM 로고" width="200" height="200"><br><br>

<div id="box" class="explain" style="display:inline">
    FM: Find Medical <br>
</div><br>

<body onload="effect(effect_box,50);"></body>
<br>
<h5>
    한국인의 사망 원인 1위를 38년째 유지하고 있는 암에 대한 <br>
    조기 발견 유도와 더불어 경각심을 일깨워주는 서비스입니다. <br><br>
    어렵기만 했던 암 정보, 이제 FM을 통해 쉽게 얻어 보세요!<br>
    FM이 당신의 건강을 응원합니다! </h5><br>
</div>

	<style>
		.main {text-align: center;}
		.main h5 {font-size:15pt;}
	</style>
	

	
<script type="text/javascript">
    var effect_box = document.getElementsByClassName('explain');
	
	// 글자 효과 함수(스스륵 효과)
	function effect(object,speed) {
		
		// 해당 객체 안에 들어가 있는 모든 텍스트 개수 불러옴
		var object_len = object.item(0).innerText.length;
		// 해당 객체 안에 들어가 있는 모든 텍스트를 object_text에 할당
		var object_text = object.item(0).innerText;
		
		// 기존에 있는 text 모두 제거
		object.item(0).innerHTML = '';
		
		for (var i = 0; i <= object_len ; i++) {
			// 텍스트를 감싸줄 'p' 태그 생성
			n_tag = document.createElement("p");
			// 해당 div에 감싸줄 'p' 태그 추가
			object.item(0).append(n_tag);
			// 넣은 'p' 태그 안에 텍스트 추가
			n_tag.append(object_text.charAt(i))

			if(i >= object_len) {
				var anima = true;
			}
		}
		if(anima === true){
			var turn = 0;
			var opacity_txt = setInterval(function(){
				document.querySelectorAll('p').item(turn).style.opacity = '1';
				turn ++;
			
				// object_len 개수와 turn 개수가 동일해지면 작동 중지
				if(object_len === turn){
					clearInterval(opacity_txt);
				}
			},speed);
		}
	}   
</script>

{% endblock %}